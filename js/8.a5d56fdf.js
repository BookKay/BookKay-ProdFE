(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"773f":function(t,o,a){"use strict";a.r(o);var s=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("q-page",{staticClass:"flex"},[a("div",{staticClass:"col"},[a("div",{staticClass:"row q-ml-md"},[a("h2",{staticClass:"q-mb-md"},[t._v("Let's Buy!!!")])]),a("q-separator",{staticClass:"q-mb-md",attrs:{inset:""}}),a("div",{staticClass:"row justify-center"},[a("q-card",{staticClass:"normal-card q-mb-xl q-mt-sm",attrs:{flat:"",bordered:""}},[a("q-card-section",{attrs:{horizontal:""}},[a("q-img",{staticClass:"col",attrs:{src:t.book.front_cover,ratio:.8,contain:""}}),a("q-card-section",{staticClass:"justify-around relative position",attrs:{vertical:""}},[a("div",{staticClass:"absolute-top-right"},[a("q-btn",{attrs:{icon:"info",flat:"",rounded:"",padding:"none",to:{name:"home-browse_book",params:{book_id:this.book.id}}}},[a("q-tooltip",[t._v("Click me to recheck book details")])],1)],1),a("div",{staticClass:"text-h5 q-mr-lg q-ml-xs"},[t._v(t._s(t.book.title))]),a("div",{staticClass:"text-caption q-ml-xs"},[t._v("\n              By "+t._s(t.book.author.author_name)+"\n            ")]),a("div",{staticClass:"text-body1 q-mt-xl"},[t._v("\n              Price: "+t._s(0==t.book.price?"Free :)":"$ "+t.book.price)+"\n            ")])])],1),a("q-card-actions",[a("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Purchase",icon:"shopping_cart"},on:{click:t.purchase}})],1)],1)],1)],1)])},e=[],i=(a("ac1f"),a("5319"),{name:"BookPurchasePage",beforeMount:function(){var t=this;this.$api.get("books/"+this.$route.params.book_id).then((function(o){var a=o.data;t.book=a}))},data:function(){return{book:{}}},methods:{purchase:function(){var t=this,o={book_id:this.book.id,user_id:this.$store.getters["user/userProperty"]("id")};this.$api.post("book_purchases",o).then((function(o){var a=o.data;t.$store.commit("user/setUser",a),t.$q.localStorage.set("user",a),t.$q.notify({color:"positive",position:"top",message:"You have successfully bought ".concat(t.book.title,". Hope you enjoy it."),icon:"error"}),t.$router.replace({name:"app-read"})})).catch((function(o){t.$q.notify({color:"negative",position:"top",message:o.response.data.message||"Something went wrong",icon:"error"})}))}}}),r=i,c=(a("b3ff"),a("2877")),n=a("9989"),l=a("eb85"),d=a("f09f"),u=a("a370"),p=a("068f"),b=a("9c40"),f=a("05c0"),m=a("4b7e"),h=a("eebe"),v=a.n(h),k=Object(c["a"])(r,s,e,!1,null,"4dfc23dc",null);o["default"]=k.exports;v()(k,"components",{QPage:n["a"],QSeparator:l["a"],QCard:d["a"],QCardSection:u["a"],QImg:p["a"],QBtn:b["a"],QTooltip:f["a"],QCardActions:m["a"]})},b356:function(t,o,a){},b3ff:function(t,o,a){"use strict";a("b356")}}]);