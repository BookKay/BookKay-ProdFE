"use strict";(self["webpackChunkbookkay"]=self["webpackChunkbookkay"]||[]).push([[871],{4111:(e,t,a)=>{a.r(t),a.d(t,{default:()=>T});a(246);var l=a(3673),i=a(8880);(0,l.dD)("data-v-1e6a215c");const o={class:"page-container"},n=(0,l._)("div",{class:"heading"},[(0,l._)("h1",null,"Add Manuscript")],-1),s={class:"field"},r={class:"field"},c={class:"field"},d=(0,l._)("div",{class:"q-ml-md"},[(0,l._)("h4",null,"Types")],-1),p={class:"row q-mt-md"},m={key:0,class:"field"},u={key:1,class:"field"},h={key:2,class:"field"},k={class:"field"};function f(e,t,a,f,g,_){const b=(0,l.up)("q-input"),y=(0,l.up)("q-separator"),v=(0,l.up)("book-type-choices"),w=(0,l.up)("q-btn"),C=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(C,null,{default:(0,l.w5)((()=>[(0,l._)("div",o,[n,(0,l._)("div",s,[(0,l.Wm)(b,{outlined:"",color:"black",modelValue:g.manuscript.title,"onUpdate:modelValue":t[0]||(t[0]=e=>g.manuscript.title=e),label:"Title",ref:"titleInput",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,l._)("div",r,[(0,l.Wm)(b,{outlined:"",color:"black",modelValue:g.manuscript.description,"onUpdate:modelValue":t[1]||(t[1]=e=>g.manuscript.description=e),label:"Description",type:"textarea",ref:"descriptionInput",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"])]),(0,l.Wm)(y,{inset:""}),(0,l._)("div",c,[d,(0,l._)("div",p,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.bookTypes,(e=>((0,l.wg)(),(0,l.j4)(v,{class:"col-4",bookType:e,key:e.id,onTypeConfirmed:_.confirmType},null,8,["bookType","onTypeConfirmed"])))),128))]),g.configs.contain_front_matter?((0,l.wg)(),(0,l.iD)("div",m,[(0,l.Wm)(w,{label:"Add Front Matter",ripple:{early:!0},onClick:t[2]||(t[2]=e=>g.frontMatters.push({title:""})),class:"add-btn"}),(0,l.Wm)(i.W3,{name:"list",tag:"div"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(g.frontMatters,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"list-item"},[(0,l.Wm)(b,{outlined:"",color:"black",modelValue:e.title,"onUpdate:modelValue":t=>e.title=t,class:"component-title q-mb-md",label:"Title"},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(w,{color:"negative",icon:"delete",ripple:{early:!0},class:"delete-btn",onClick:e=>g.frontMatters.splice(t,1)},null,8,["onClick"])])))),128))])),_:1})])):(0,l.kq)("",!0),g.configs.contain_chapter?((0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)(w,{label:"Add Chapter",ripple:{early:!0},onClick:t[3]||(t[3]=e=>g.chapters.push({title:""})),class:"add-btn"}),(0,l.Wm)(i.W3,{name:"list",tag:"div"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(g.chapters,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"list-item"},[(0,l.Wm)(b,{outlined:"",color:"black",modelValue:e.title,"onUpdate:modelValue":t=>e.title=t,class:"component-title q-mb-md",label:"Title"},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(w,{color:"negative",icon:"delete",ripple:{early:!0},class:"delete-btn",onClick:e=>g.chapters.splice(t,1)},null,8,["onClick"])])))),128))])),_:1})])):(0,l.kq)("",!0),g.configs.contain_back_matter?((0,l.wg)(),(0,l.iD)("div",h,[(0,l.Wm)(w,{label:"Add Back Matter",ripple:{early:!0},onClick:t[4]||(t[4]=e=>g.backMatters.push({title:""})),class:"add-btn"}),(0,l.Wm)(i.W3,{name:"list",tag:"div"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(g.backMatters,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"list-item"},[(0,l.Wm)(b,{outlined:"",color:"black",modelValue:e.title,"onUpdate:modelValue":t=>e.title=t,class:"component-title q-mb-md",label:"Title"},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Wm)(w,{color:"negative",icon:"delete",ripple:{early:!0},class:"delete-btn",onClick:e=>g.backMatters.splice(t,1)},null,8,["onClick"])])))),128))])),_:1})])):(0,l.kq)("",!0),(0,l._)("div",k,[(0,l.Wm)(w,{color:"positive",label:"Confirm",icon:"edit",ripple:{early:!0},onClick:_.confirm},null,8,["onClick"])])])])])),_:1})}(0,l.Cn)();var g=a(6966);const _={name:"MakeManuscriptPage",components:{BookTypeChoices:g.Z},data(){return{configs:{},manuscript:{title:"",description:"",temp_cover:"https://res.cloudinary.com/bookkay/image/upload/v1624466524/BookKay/Temp%20Cover/Temp_Cover.png",author_id:this.$store.getters["user/userProperty"]("id"),price:0,text:{}},bookTypes:[{id:"1",name:"Essay",configs:{contain_character:!1,contain_chapter:!1,contain_front_matter:!1,contain_back_matter:!1,auto_add_title:!0},hint:"A simple writing with no chapters and characters",chosen:!1},{id:"2",name:"Novel(Only chapters) ",configs:{contain_character:!1,contain_chapter:!0,contain_front_matter:!1,contain_back_matter:!1,auto_add_title:!0},hint:"A large long novels with several chapters.",chosen:!1},{id:"3",name:"Novel",configs:{contain_character:!0,contain_chapter:!0,contain_front_matter:!0,contain_back_matter:!0,auto_add_title:!0},hint:"A large long novels with several front matters, chapters and back matters. Character drafting is automatically switched on.",chosen:!1}],frontMatters:[],chapters:[],backMatters:[]}},methods:{confirmType(e){for(var t=0;t<this.bookTypes.length;t++){var a=this.bookTypes[t];a.configs==e?a.chosen=!0:a.chosen=!1}this.configs=e},confirm(){this.$refs.titleInput.validate(),this.$refs.descriptionInput.validate(),0==Object.keys(this.configs).length&&this.$q.notify({color:"negative",position:"top",message:"Choose the book type",icon:"error"}),this.$refs.titleInput.hasError||this.$refs.descriptionInput.hasError||this.addManuscript},async addManuscript(e){try{await this.$store.dispatch("write/addManuscript",e)}catch(t){this.$q.notify({color:"negative",position:"top",message:error.response.data.message||"Something went wrong",icon:"error"})}}}};var b=a(4379),y=a(4689),v=a(5869),w=a(8240),C=a(7518),W=a.n(C);_.render=f,_.__scopeId="data-v-1e6a215c";const T=_;W()(_,"components",{QPage:b.Z,QInput:y.Z,QSeparator:v.Z,QBtn:w.Z})}}]);