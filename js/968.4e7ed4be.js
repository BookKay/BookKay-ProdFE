"use strict";(self["webpackChunkbookkay"]=self["webpackChunkbookkay"]||[]).push([[968],{1968:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Z});var o=a(3673),s=a(8880),i=a(2323);(0,o.dD)("data-v-67c5008b");const l={class:"main-container flex flex-center"},n={key:0,class:"transition-container_loading"},r={class:"list-container"},c={key:1,class:"transition-container_books"},d={class:"list-container"},u=["src"],p={key:2,class:"transition-container_not-found"},m=(0,o._)("img",{src:"svg/page_not_found.svg",alt:"Page Not Found",class:"not-found-img"},null,-1),k=(0,o._)("div",{class:"text-h2 text",style:{opacity:"0.4"}}," Oops. No Books Found... ",-1);function h(e,t,a,h,w,b){const f=(0,o.up)("q-skeleton"),_=(0,o.up)("q-item-section"),g=(0,o.up)("q-item-label"),y=(0,o.up)("q-item"),v=(0,o.up)("q-separator"),W=(0,o.up)("q-list"),x=(0,o.up)("q-icon"),q=(0,o.up)("q-btn"),D=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(s.W3,{tag:"span",appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",class:"transition-container"},{default:(0,o.w5)((()=>[w.loading?((0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",r,[(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.placeholderArray,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e},[(0,o.wy)((0,o.Wm)(y,{style:{"border-radius":"30px"},dense:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{thumbnail:""},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{type:"circle"})])),_:1}),(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{type:"rect"})])),_:1}),(0,o.Wm)(g,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{type:"text"})])),_:1})])),_:1})])),_:1},512),[[D,void 0,void 0,{early:!0}]]),(0,o.Wm)(v,{spaced:"",inset:""})])))),128))])),_:1})])])):w.books.length>0?((0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",d,[(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.books,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o.wy)((0,o.Wm)(y,{clickable:"",style:{"border-radius":"30px"},onClick:t=>b.bookClicked(e),dense:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{thumbnail:""},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.front_cover,class:"front-cover-img"},null,8,u)])),_:2},1024),(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.title),1)])),_:2},1024),(0,o.Wm)(g,{caption:"",lines:"2"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.author_name),1)])),_:2},1024)])),_:2},1024),(0,o.Wm)(_,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{name:"keyboard_arrow_right",color:"black"})])),_:1})])),_:2},1032,["onClick"]),[[D,void 0,void 0,{early:!0}]]),(0,o.Wm)(v,{spaced:"",inset:""})])))),128))])),_:1})])])):((0,o.wg)(),(0,o.iD)("div",p,[m,k,(0,o.Wm)(q,{class:"q-mt-lg",style:{width:"150px"},color:"black","text-color":"blue",rounded:"",outline:"",to:{name:"app-store-list"},ripple:{early:!0},label:"Go Back","no-caps":""})]))])),_:1})])}(0,o.Cn)();a(7280);const w={name:"BookShopSearch",data(){return{loading:!0,searchText:"",placeholderArray:["","","","",""],books:[]}},async mounted(){await this.fetchBooks(this.$route.query.search)},async beforeRouteUpdate(e,t,a){await this.fetchBooks(e.query.search),a()},methods:{async fetchBooks(e){this.loading=!0,this.searchText=e;let t=await this.$api.get("books/search",{params:{word:this.searchText,fields:"id,title,author_name,front_cover"}});this.books=t.data.results,this.loading=!1},bookClicked(e){let t;t=this.$store.getters["user/isLoggedIn"]?"app-browse-book":"home-browse-book",this.$router.push({name:t,params:{book_id:e.id}})}}};var b=a(7011),f=a(3414),_=a(2035),g=a(4103),y=a(2350),v=a(5869),W=a(4554),x=a(8240),q=a(6489),D=a(7518),Q=a.n(D);w.render=h,w.__scopeId="data-v-67c5008b";const Z=w;Q()(w,"components",{QList:b.Z,QItem:f.Z,QItemSection:_.Z,QSkeleton:g.ZP,QItemLabel:y.Z,QSeparator:v.Z,QIcon:W.Z,QBtn:x.Z}),Q()(w,"directives",{Ripple:q.Z})}}]);