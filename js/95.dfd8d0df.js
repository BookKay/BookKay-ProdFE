"use strict";(self["webpackChunkbookkay"]=self["webpackChunkbookkay"]||[]).push([[95],{8095:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var r=a(3673),n=a(8880);const s=e=>((0,r.dD)("data-v-3b5424b9"),e=e(),(0,r.Cn)(),e),c=s((()=>(0,r._)("div",{class:"heading",id:"shop-heading"},[(0,r._)("h1",null,"Book Shop")],-1))),o={class:"search-bar"};function l(e,t,a,s,l,u){const h=(0,r.up)("search-bar"),d=(0,r.up)("router-view"),i=(0,r.up)("q-page");return(0,r.wg)(),(0,r.j4)(i,null,{default:(0,r.w5)((()=>[c,(0,r._)("div",o,[(0,r.Wm)(h,{text:l.searchText,ref:"searchBar",onSearch:u.handleSearch},null,8,["text","onSearch"])]),(0,r.Wm)(n.uT,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{ref:"child"},null,512)])),_:1})])),_:1})}const u={class:"search-container"};function h(e,t,a,s,c,o){const l=(0,r.up)("q-input"),h=(0,r.up)("q-btn");return(0,r.wg)(),(0,r.iD)("div",u,[(0,r.Wm)(l,{rounded:"",outlined:"",color:"black",modelValue:c.currentText,"onUpdate:modelValue":t[0]||(t[0]=e=>c.currentText=e),label:"Search",class:"input-container",onKeydown:t[1]||(t[1]=(0,n.D2)((0,n.iM)((t=>e.$refs.searchBtn.click()),["prevent"]),["enter"]))},null,8,["modelValue"]),(0,r.Wm)(h,{color:"black",icon:"search",ripple:{early:!0},ref:"searchBtn",class:"search-btn",onClick:t[2]||(t[2]=e=>this.$emit("search",c.currentText))},null,512)])}const d={name:"SearchBar",props:{text:{type:String,default:""}},data(){return{currentText:this.$props.text}},methods:{updateText(e){this.currentText=e}}};var i=a(4260),p=a(4689),m=a(8240),f=a(7518),b=a.n(f);const k=(0,i.Z)(d,[["render",h],["__scopeId","data-v-07ca5cc6"]]),v=k;b()(d,"components",{QInput:p.Z,QBtn:m.Z});const x={components:{SearchBar:v},name:"ShopPage",computed:{alignment(){return this.$q.screen.lt.md?"justify-center":"justify-start"}},beforeRouteUpdate(e,t,a){"app-store-list"==e.name?(this.searchText="",this.$refs.searchBar.updateText(""),a()):(e.name,a())},data(){return{loading:!0,searchText:""}},methods:{async handleRefresh(e){await this.$refs.child.fetchBooks(),e()},handleSearch(e){""!=e?this.$router.push({name:"app-store-search",query:{search:e}}):this.$router.push({name:"app-store-list"})}}};var T=a(4379),S=a(3720),g=a(8506);const w=(0,i.Z)(x,[["render",l],["__scopeId","data-v-3b5424b9"]]),y=w;b()(x,"components",{QPage:T.Z,QPullToRefresh:S.Z,QSpinnerIos:g.Z})}}]);